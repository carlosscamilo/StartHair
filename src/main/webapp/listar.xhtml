<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">

<h:head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<title>Lista</title>
</h:head>
<h:body>
	<h:form id="formListagem" prependId="false">
		<p:growl/>
		<p:commandButton value="novo" icon="pi pi plus" update="formEdicao"
			process="@this" oncomplete="PF('dlg').show();" />

		<p:dataTable value="#{clienteBean.dao.listaObjetos}" var="obj"
			id="listagem">
			<p:column headerText="ID">
				<p:outputLabel value="#{obj.id}" />
			</p:column>
			<p:column headerText="Nome">
				<p:outputLabel value="#{obj.nome}" />
			</p:column>
			<p:column headerText="CPF">
				<p:outputLabel value="#{obj.cpf}" />
			</p:column>
			<p:column headerText="Sexo">
				<p:outputLabel value="#{obj.sexo}" />
			</p:column>
			<p:column headerText="Data de Nascimento">
				<p:outputLabel value="#{obj.data_nascimento}" />
			</p:column>
			<p:column headerText="Email">
				<p:outputLabel value="#{obj.email}" />
			</p:column>
			<p:column headerText="Senha">
				<p:outputLabel value="#{obj.senha}" />
			</p:column>
			<p:column headerText="Telefone">
				<p:outputLabel value="#{obj.telefone}" />
			</p:column>
			<p:column headerText="Endereco">
				<p:outputLabel value="#{obj.endereco}" />
			</p:column>
			<p:column headerText="Cidade">
				<p:outputLabel value="#{obj.cidade}" />
			</p:column>
			<p:column headerText="Estado">
				<p:outputLabel value="#{obj.estado}" />
			</p:column>
			<p:columns headerText="Ações">
				<div align="center">
					<p:commandButton actionListener="#{clienteBean.alterar(obj.id)}"
						title="Editar" icon="pi pi-pencil" update="formEdicao"
						process="@this" oncomplete="PF('dlg').show();" />

					<p:commandButton actionListener="#{clienteBean.excluir(obj.id)}"
						title="Excluir" icon="pi pi-trash" update="@form" process="@this"
						onclick="if (!confirm('Confirma a exclusão?')) return false" />
				</div>
			</p:columns>
		</p:dataTable>
	</h:form>
	<p:dialog header="Edição" widgetVar="dlg" resizable="false"
		modal="true" width="50%" height="100%">
		<h:form id="formEdicao" prependId="false">
			<p:growl id="growl" />
			<div align="center">
				<p:panelGrid columns="2">
					<p:outputLabel value="ID" />
					<p:inputText value="#{clienteBean.objeto.id}" size="5"
						 />

					<p:outputLabel value="Nome" for="txtNome" />
					<p:inputText value="#{clienteBean.objeto.nome}" size="50"
						 placeholder="Obrigatório" id="txtNome" />

					<p:outputLabel value="CPF" for="txtCPF" />
					<p:inputText value="#{clienteBean.objeto.cpf}" size="50"
						 placeholder="Obrigatório" id="txtCPF" />
						
					<p:outputLabel value="Sexo"/>
					<p:inputText value="#{clienteBean.objeto.sexo}" size="50"
						maxlength="50" />
						
					<p:outputLabel value="Data de nascimento" for="txtData_nascimento" />
					<p:inputText value="#{clienteBean.objeto.data_nascimento}" size="50"
						placeholder="Obrigatório" id="txtData_nascimento" />
						
					<p:outputLabel value="Email" for="txtEmail" />
					<p:inputText value="#{clienteBean.objeto.email}" size="50"
						 placeholder="Obrigatório" id="txtEmail" />
						
					<p:outputLabel value="Senha" for="txtSenha" />
					<p:inputText value="#{clienteBean.objeto.senha}" size="50"
						 placeholder="Obrigatório" id="txtSenha" />
						
					<p:outputLabel value="telefone" for="txtTelefone" />
					<p:inputText value="#{clienteBean.objeto.telefone}" size="50"
						 placeholder="Obrigatório" id="txtTelefone" />
						
					<p:outputLabel value="endereco" for="txtEndereco" />
					<p:inputText value="#{clienteBean.objeto.endereco}" size="50"
						 placeholder="Obrigatório" id="txtEndereco" />
						
					<p:outputLabel value="Cidade" for="txtCidade" />
					<p:inputText value="#{clienteBean.objeto.cidade}" size="50"
						 placeholder="Obrigatório" id="txtCidade" />
						
					<p:outputLabel value="Estado" for="txtEstado" />
					<p:inputText value="#{clienteBean.objeto.estado}" size="50"
						placeholder="Obrigatório" id="txtEstado" />						

				</p:panelGrid>
			</div>
			<p:panel>
				<div align="center">
					<p:commandButton value="Salvar"
									 icon="pi pi-safe"
									 actionListener="#{clienteBean.salvar}"
									 update="formEdicao formListagem"
									 oncomplete="if (!args.validationFailed) {PF('dlg').hide();}"/>
				</div>
			</p:panel>
			
		</h:form>
	</p:dialog>
</h:body>
</html>